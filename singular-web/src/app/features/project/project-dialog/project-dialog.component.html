<h2 mat-dialog-title>{{ data ? 'Edit Project' : 'New Project' }}</h2>
<form [formGroup]="form" class="form" (ngSubmit)="save()">
  <mat-form-field appearance="outline" class="w">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" required />
  </mat-form-field>

  <mat-form-field appearance="outline" class="w">
    <mat-label>Description</mat-label>
    <textarea matInput rows="3" formControlName="description"></textarea>
  </mat-form-field>

  <div class="mat-form-field-wrapper">
    <div class="mat-form-field-flex">
      <div class="mat-form-field-prefix"></div>
      <div class="mat-form-field-infix">
        <span class="mat-form-field-label">Color</span>
        <button
          type="button"
          class="color-input"
          [style.background]="colorModel || '#e5e7eb'"
          [colorPicker]="colorModel || '#e5e7eb'"
          (colorPickerChange)="onColorChange($event)"
          [cpOutputFormat]="'hex'"
          [cpAlphaChannel]="'disabled'"
          [cpPosition]="'bottom'"
          [cpOKButton]="true"
          [cpCancelButton]="true"
          [cpPresetColors]="presets"
          [cpPresetLabel]="'Presets'"
          [cpSaveClickOutside]="true"
          aria-label="Pick color"
        >
          <mat-icon>palette</mat-icon>
          <span class="color-value">{{ colorModel || 'Select color' }}</span>
        </button>
      </div>
    </div>
    <div class="mat-form-field-underline"></div>
  </div>

  <mat-checkbox formControlName="pinned">Pinned</mat-checkbox>

  <div class="actions">
    <button mat-button type="button" (click)="close()">Cancel</button>
    <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">
      {{ data ? 'Save' : 'Create' }}
    </button>
  </div>
</form>
